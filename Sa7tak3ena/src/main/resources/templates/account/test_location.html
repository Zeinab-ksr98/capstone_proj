<!DOCTYPE html>
<html>
<head>
    <title>Location Tracking</title>
</head>
<body>
<button onclick="getLocation()">Get My Location</button>

<script>
    function getLocation() {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(showPosition);
        } else {
            alert("Geolocation is not supported by this browser.");
        }
    }

    function showPosition(position) {
        const latitude = position.coords.latitude;
        const longitude = position.coords.longitude;

        // Send location data to backend
        fetch('/api/location', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ latitude, longitude })
        })
            .then(response => {
                if (!response.ok) {
                    throw new Error('Failed to send location data.');
                }
                console.log('Location data sent successfully.');
            })
            .catch(error => {
                console.error('Error:', error);
            });
    }
</script>
</body>
</html>
